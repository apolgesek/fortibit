<nav class="main-nav">
    <h2 class="brand"><img [src]="logoURL" class="brand-logo"> haslock</h2>
    <div class="menu-panel">
        <button
            pButton
            type="button"
            class="add-entry"
            icon="pi pi-plus"
            iconPos="left"
            (click)="openAddEntryWindow()">
        </button>
        <button
            pButton
            type="button"
            label="Save DB"
            icon="pi pi-save"
            class="ui-button-secondary save-db"
            iconPos="left"
            [disabled]="isDateSaved"
            (click)="trySaveDatabase()">
        </button>
        <button
            pButton
            type="button"
            label="Edit"
            icon="pi pi-pencil"
            class="ui-button-secondary edit-entry"
            iconPos="left"
            [disabled]="!isAnyPassword || !isOneRowSelected"
            (click)="openEditEntryWindow()">
        </button>
        <button
            pButton
            type="button"
            label="Remove"
            icon="pi pi-trash"
            class="ui-button-secondary remove-entry"
            iconPos="left"
            [disabled]="!isAnyPassword || !isAnyRowSelected"
            (click)="openDeleteEntryWindow()">
        </button>
        <input type="text" class="search" #search pInputText placeholder="Search database" />
    </div>
</nav>

<router-outlet></router-outlet>

<p-toast position="bottom-right"
    [showTransitionOptions]="'150ms'"
    [showTransformOptions]="'translateX(100%)'"
    [hideTransitionOptions]="'250ms'">
    <ng-template let-message pTemplate="message">
        <div class="toast-outer">
            <div class="toast-inner">
                <div class="toast-text">{{message.summary}}</div>
                <div *ngIf="message.detail === 'clipboard'" class="seconds-left" [appStopwatch]="message.life"></div>
            </div>
        </div>
    </ng-template>
</p-toast>

<p-confirmDialog header="Confirmation" icon="pi pi-exclamation-triangle"></p-confirmDialog>

<p-dialog [(visible)]="isNewPasswordDialogShown" [modal]="true">
    <p-header>
        Please provide master password
    </p-header>
    <div style="display: flex; align-items: center; margin: 1rem 0">
        <i class="pi pi-info-circle"></i>
        Password must be at least&nbsp;<strong>6</strong>&nbsp;characters long
    </div>
    <div class="ui-g-12">
        <div class="ui-inputgroup">
            <span class="ui-inputgroup-addon"><i class="pi pi-key" style="line-height: 1.25;"></i></span>
            <input type="password" [(ngModel)]="newPassword" pPassword placeholder="New password" style="width: 100%">         
        </div>
    </div>
    
    <div class="ui-g-12">
        <div class="ui-inputgroup">
            <span class="ui-inputgroup-addon"><i class="pi pi-key" style="line-height: 1.25;"></i></span>
            <input type="password" [(ngModel)]="newPasswordRepeat" pInputText placeholder="Repeat password" style="width: 100%">   
        </div>
    </div>
    <p-footer>
        <button
            pButton
            type="button"
            label="Confirm"
            [disabled]="newPassword.length < 6 || newPassword !== newPasswordRepeat"
            class="ui-button-success"
            (click)="saveNewDatabase()">
        </button>
    </p-footer>
</p-dialog>


